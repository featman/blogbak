title: 阻塞、非阻塞、同步、异步  
date: 2015-5-11 12:51:44
categories: 操作系统
tags: [异步,同步,IO模型,操作系统] 
---
几种IO模型
<!--more-->



- IO操作分为两个过程，第一个是内核有没有准备好数据，第二个是准备好的数据由内核空间拷贝到用户空间。

- 阻塞、非阻塞、IO复用都是同步的，都是第一个阶段的不同，阻塞是主动去询问内核数据有没有准备好数据，阻塞的就停止了，直到内核说有了。非阻塞的内核告诉没有，直接返回，干其他事情。IO复用也是同理，与非阻塞相比，这里的IO复用是监听多个IO操作，比如在网络编程中，用select或者epoll可以监听一组套接字，这时候哪个套接字准备好数据了，就读，没有就接着干其他的，然后等到下次循环去问。同步中，数据由内核拷贝到用户空间的过程也是需要等待的，只是操作系统处理这个过程比较快，所以我们感觉不到程序已经停下来了，其实是等待数据结束，IO操作才结束。

- 至于异步，是真正的非阻塞。IO操作的两个过程都没有阻塞，就是说，我在IO的过程中，只告诉内核，我是异步IO，我要读什么什么，然后我就不管了，直接去做其他事情，内核准备好数据后，然后把数据拷贝到用户空间，这两个过程完成后会给进程一个信号，告诉进程，数据都准备好了，请拿走，然后进程中断，取处理IO后的数据，处理完之后再做之后的。